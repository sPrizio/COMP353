
\iffalse 
Comments here
\fi

\documentclass[12pt]{article}
\usepackage{ulem,listings}
\usepackage{geometry, tikz}
\usetikzlibrary{shapes,shadows,arrows.meta}
\geometry{
    a4paper,
    total={170mm,257mm},
    left=20mm,right=20mm,
    top=20mm,
}

\title{Comp353 Warm-Up Report}
\author{Kai, Stephen, Giovanni, Nizar}

\begin{document}
	\maketitle
	
		\newcommand{\XSHIFT}{7em}
	\newcommand{\YSHIFT}{0em}
	
	\tikzset{Item/.style={line width=0.14em}}
	\tikzset{Weak/.style={style=dashed}}
	\tikzset{EntitySet/.style={Item, rectangle,draw,fill={rgb:red,4;green,2;blue,1;white,9},inner sep=0.8em,drop shadow={shadow xshift=.5em,  shadow yshift=-.2em},node distance=10em}}
	\tikzset{WeakEntitySet/.style={EntitySet, Weak, Item}}
    \tikzset{Attribute/.style={Item,ellipse,draw,fill={rgb:red,1;green,1;blue,1;white,100},,drop shadow={shadow xshift=.35em, shadow yshift=-.1em},node distance=5em}}
    \tikzset{Relationship/.style={Item, diamond,draw,fill={rgb:red,0;blue,3;green,1;white,9},,drop shadow={shadow xshift=.25em,  shadow yshift=-.2em}, node distance=10em,aspect=3}}
	\tikzset{WeakRelationship/.style={Relationship, Weak, Item}}
    
    %%
    \tikzset{OneLine/.style={draw, =Stealth, line width=0.21em}}
 	\tikzset{AttributeLine/.style={draw, =Latex, line width=0.09em}}
    \tikzset{ManyLine/.style={draw={rgb:red,1;green,1;blue,1;black,10}, -{Stealth[fill={rgb:red,0;blue,0;green,1;black,4}, width=2em]},thick, line width=0.21em}}
	
	\section{E/R Diagram}
	\noindent
	\begin{tikzpicture}
%Construct the entity->attribute relations

%%Students (SID, Name, gender, email), 
\node[EntitySet](students){\textbf{Students}};
\node[Attribute, above of=students](sid){\uline{SID}};
\node[Attribute, left of=sid](name){Name};
\node[Attribute, left of=sid,yshift=-3em,xshift=-3em](gender){Gender};
\node[Attribute, right of=sid](email){Email};

\path[AttributeLine](sid)--(students);
\path[AttributeLine](email)--(students);
\path[AttributeLine](name)--(students);
\path[AttributeLine](gender)--(students);

%%Members (SID, TID, dateJoined,role), 
\node[Relationship, below of=students, yshift=\YSHIFT](members){\textbf{Members}};
%\node[Attribute, right of=members](sid_mem){\uline{SID}};
%\node[Attribute, above of=members](tid){TID};
\node[Attribute, left of=members,below of=members,yshift=0.2em](datejoined){dateJoined};
\node[Attribute, above of=members,left of=members](role){Role};

%\path[AttributeLine](sid_mem)--(members);
%\path[AttributeLine](tid)--(members);
\path[AttributeLine](datejoined)--(members);
\path[AttributeLine](role)--(members);

%%Demos (SID, TID, Date, time, grade)
\node[EntitySet, right of=students, xshift=\XSHIFT](demos){\textbf{Demos}};
\node[Attribute, right of=demos](sid_dem){\uline{SID}};
\node[Attribute, below of=sid_dem](date){Date};
\node[Attribute, above of=demos](tid_dem){\uline{TID}};
\node[Attribute, right of=demos,above of=demos](time){Time};
\node[Attribute, left of=tid_dem](grade){Grade};

\path[AttributeLine](sid_dem)--(demos);
\path[AttributeLine](date)--(demos);
\path[AttributeLine](tid_dem)--(demos);
\path[AttributeLine](time)--(demos);
\path[AttributeLine](grade)--(demos);

%%Projects (PID, Name)
\node[EntitySet, below of=members,right of=members,xshift=\XSHIFT](projects){\textbf{Projects}};
\node[Attribute,below of=projects](pid){\uline{PID}};
\node[Attribute, right of=projects,xshift=1em](name){Name};

\path[AttributeLine](pid)--(projects);
\path[AttributeLine](name)--(projects);

%%Teams (TID, LeaderID, NoOfMembers), 
\node[EntitySet, below of=members,yshift=\YSHIFT](teams){\textbf{Teams}};
\node[Attribute,left of=teams](tid){\uline{TID}};
\node[Attribute, below of=teams](leaderid){LeaderID};
\node[Attribute, below of=teams, left of=teams, xshift=-2em, text width=4em](noofmem){NoOf Members};

\path[AttributeLine](tid)--(teams);
\path[AttributeLine](leaderid)--(teams);
\path[AttributeLine](noofmem)--(teams);

%Relation connections

\path[OneLine](students)--(members);
\path[ManyLine](members)--(teams);
\path[ManyLine](members)-|(demos);

	\end{tikzpicture}
\end{document}